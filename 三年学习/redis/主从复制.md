# 简介

一台主数据库配多个从数据库，主数据库向从数据库中备份数据。用户的写操作通过主数据库进行，读操作通过从数据库实现。这样实现读写分离分担压力。同时因为多台从数据库，提高了可用性。  

# 当一个主从关系中，一个数据库挂掉重连的特点

从服务器挂掉重新连后，不会自动加入主从关系中，而是会作为一个新的主服务器。手动加如原来的主服务器是，会复制主服务器所有数据。

主服务器挂掉重启后会自动加入到原来的主从关系中。  

# 主从复制原理

当一个从服务器连接上主服务器后，会主动向主服务器发送数据同步指令，主服务器将rdb文件发送给从服务器，进行同步数据。每次主服务器进行写后，会主动要求从服务器同步数据。  

# 星火相传

主服务器只同步一台从服务器，其他从服务器从该从服务器同步数据，如果该从服务器器挂掉会有异常。  

# 反客为主

  当主服务器挂掉后，将一台从服务器变为主服务器。使用命令 slaveof no one 。缺点是需要手动完成  

# 哨兵模式

凡客为主的自动版本，当主服务器挂掉，根据票数自动将从库转为主库 


